<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>PLAYERMPD</title>

  <!-- Shaka UI v4.1.1 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.1.1/controls.min.css" crossorigin="anonymous">

  <!-- Icons & font untuk theme -->
  <link href="https://fonts.googleapis.com/css2?family=Material+Icons+Sharp" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/playermpd.css">

  <meta name="referrer" content="no-referrer" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.1.1/shaka-player.ui.min.js" crossorigin="anonymous"></script>
  <script type='text/javascript' src='//atecomprisedispel.com/42/bd/bf/42bdbfa0c65f07db50603564b0771d5d.js'></script>
  <script disable-devtool-auto src="https://cdn.jsdelivr.net/npm/disable-devtool"></script>  

</head>
<body>
  <button id="pageShareBtn" class="page-share-btn" title="Copy embed">
      <i class="material-icons-sharp" aria-hidden="true">ios_share</i>
  </button>
  <div id="copyToast" class="copy-toast">Embed code copied</div>

  <div data-shaka-player-container style="width: 100%; height: 100%; cursor: none;" shaka-controls="true" class="shaka-video-container youtube-theme">
      <video autoplay muted playsinline webkit-playsinline data-shaka-player id="video" class="shaka-video" poster=""></video>
  </div>
  
  <script>
// ======================
// KONFIG & DATA CHANNEL
// ======================
// Channel data - add more channels if needed
const channels = {
    'timnasu23': {
        url: 'https://fifa.elutuna.workers.dev/2025_09_04_14_51_41_c2da3688-65a2-469e-b5e5-ed57d54fc31c/PROD_CMAF_CENC/index-dash.mpd',
        drm: {
            '78f59d9ca2b03f91adb0af88ae42ac18': 'fd629a0c58c4145e8cc74c55a8245589'
        }
    },
    'rcti': {
        url: 'https://fta4-cdn-flr.visionplus.id/out/v1/997ce8767b604fae9fce05379b3b8b3a/index.mpd',
        drm: {
            'd386001215594043a8995db796ad9e9c': '3404792cb4c804902acdc6ca65c1a298'
        }
    },
    'mnc': {
        url: 'https://fta4-cdn-flr.visionplus.id/out/v1/d6b026ad50f14b7f9af5ddd5450007d4/index.mpd',
        drm: {
            'c3004565365a42d08e3bde39a516d64e': 'dbfdc0967cfbbed01dba730c99d9c14a'
        }
    },
    'gtv': {
        url: 'https://fta2-cdn-flr.visionplus.id/out/v1/b8b9b1d5f80f45649b4a3619291551ab/index.mpd',
        drm: {
            '036e85de0bb448eeb21d39ab300da48e': '4c6f9b15dfab2a169b2b78a498c4d77d'
        }
    },
    'inews': {
        url: 'https://fta2-cdn-flr.visionplus.id/out/v1/7b0404cd6a8a4a908123f10774854e46/index.mpd',
        drm: {
            '8ee7df15ff584967a3eb7b885bafc71e': '9a297bf2200eee7dee21b9ace9f57c77'
        }
    },
    'rtv': {
        url: 'https://fta3-cdn-flr.visionplus.id/out/v1/abf3e254818c4608aab8aa109a972203/index.mpd',
        drm: {
            '87484c0b2a4c41b9b08249ef7817ad7f': 'ff4f3f232f747e5e7f616b4741fa5c32'
        }
    },
    'sindonews': {
        url: 'https://fta4-cdn-flr.visionplus.id/out/v1/8c2df39f9b2842fbb997b89378841ad9/index.mpd',
        drm: {
            '87484c0b2a4c41b9b08249ef7817ad7f': 'ff4f3f232f747e5e7f616b4741fa5c32'
        }
    },
    'trans7': {
        url: 'https://fta2-cdn-flr.visionplus.id/out/v1/0fd7b7d368bc44bc9b4dece20acc3e33/index.mpd',
        drm: {
            '78477d2156944b7cb35762a47973aa9c': '31805b3c0d03080f9ed33411258e5baf'
        }
    },
    'transtv': {
        url: 'https://fta4-cdn-flr.visionplus.id/out/v1/7a69cfc9e135493f87ac4efd63000429/index.mpd',
        drm: {
            '764e726a234a435c87a82e4a1da6a69b': '0de18199ebb3316e3aed8529e39542b7'
        }
    },
    'tvone': {
        url: 'https://fta3-cdn-flr.visionplus.id/out/v1/f3df48faafaf4198a65b9763140fce30/index.mpd',
        drm: {
            'eab667a8f7f14ff7bf00d790314a10f0': '1d6693bc942f036053fc1c3c3b3b5032'
        }
    },
    'kompas': {
        url: 'https://fta4-cdn-flr.visionplus.id/out/v1/dafcaf8b26064ae7b27702088240b535/index.mpd',
        drm: {
            'c1e5a6713acc4774a622d01177224094': 'd88b67279524d26984f9c0041442b5c6'
        }
    },
    'antv': {
        url: 'https://fta1-cdn-flr.visionplus.id/out/v1/0a6c6b1534444ab4bd903af8761e6747/index.mpd',
        drm: {
            '251c384e846841abafa1f7c723d57e66': 'e45b06a38cd261b74c5160f0912c042f'
        }
    },
    'mdtv': {
        url: 'https://fta1-cdn-flr.visionplus.id/out/v1/6941abe8211d4ce8bd13d9b96bdd1630/index.mpd',
        drm: {
            '91dec6fd9fd84b879aacc027bf532790': '588a2214bfb91fc0150b9ac2a745cef8'
        }
    },
    'tvri': {
        url: 'https://fta1-cdn-flr.visionplus.id/out/v1/b642f32e396042f981d83fbb5f472272/index.mpd',
        drm: {
            '91dec6fd9fd84b879aacc027bf532790': '91dec6fd9fd84b879aacc027bf532790'
        }
    },
    'metrotv': {
        url: 'https://fta2-cdn-flr.visionplus.id/out/v1/fd4360b1c12c4375848c8f085fd51d41/index.mpd',
        drm: {
            'c64493155d8b443c834a13d4970cf834': '509294911ac3c2d779ae2225a23460b4'
        }
    },
    'arser2': {
        url: 'https://bpkcdn.telekom.me/bpk-tv/arenasport_2/default/index.mpd',
        drm: {
            '4bd0cff22dc85ea5b225d7f9a952e965': 'acf2c5ff11f481972e0f5ceb979b25bb',
            '16c25e879df45ec298524e7d21404a98': '80fe93c754faaebc8e8bdbfad7cfc107',
            '0e496cb5280256678de0ac8c4a3f6eac': 'b70540aeb2f3609c9c3b69bffed51f50'
        }
    },
    'arpser1': {
        url: 'https://bpkcdn.telekom.me/bpk-tv/arena_premium_1/default/index.mpd',
        drm: {
            'ddf7a6d83eb05ab48a757b638244af57': '720eb820e035ebe9f9a84e9f258282a1',
            '96a46b5f1627549db9632ae1172ea62d': 'feb9eb6327915c1547ad17c2461b9f66',
            '7815e3024bf55d5296ece7d188442baa': '4178f0a0b6eed010845a6342a0831f79'
        }
    },
    'arpser2': {
        url: 'https://bpkcdn.telekom.me/bpk-tv/arena_premium_2/default/index.mpd',
        drm: {
            '50e2b92181a35cd9a603bf398660e5c7': '0779f9325ccbb29b5926793236a1537d',
            'dc5ff1824cd650569eb2252dce236b67': '55e89387b90d67f0fe7b8f7845c3b9e6',
            '39a06f8583d25d1dbf62a4cee3170342': '5976017af75ba543275891b960e403ab'
        }
    },
    'arpser3': {
        url: 'https://bpkcdn.telekom.me/bpk-tv/arena_premium_3/default/index.mpd',
        drm: {
            '85f660d220f8505da6cfb91ab918fe8c': 'f80006a60934229972493e9e1fe0bacc',
            'c6132c7ba95d5f20a85ea4c45519289d': '14d21b892ac68e3d40e4636e5a38d598',
            '880e79fcfd3e584b813606a29eda2888': '29b960eabbe8cf69a313af8706eee3c6'
        }
    },
    'arpser4': {
        url: 'https://bpkcdn.telekom.me/bpk-tv/arena_premium_4/default/index.mpd',
        drm: {
            '62624f51a7635747b5fd185fa6ee3482': '6d184330c3af6722174b1bec36cb2326',
            '89194a259ad25004ab426ef75d64f625': '14008093343a9169e655b311ebdf1899',
            'b0d44c7a8d99535ab1671efcef5ee81c': 'a4b521eac3eb3262ded1684867e2aca4'
        }
    },
    'arpser5': {
        url: 'https://bpkcdn.telekom.me/bpk-tv/arena_premium_5/default/index.mpd',
        drm: {
            'f4a9e0c0e9c15dadaa630b3148677266': '8e400f2c186e975c4548c1e71703a9fe',
            '48a3686993415269ab6ef733b0226eb0': 'a9cefd94dd7cf15ac0bcb528eaee1b01',
            'ecb907066e685df3b792dcd853bc4a52': '58eba5e841c3655c59576579b6cf1d4d'
        }
    },
    'starslc1': {
        url: 'https://moblive.yuppcdn.net/drm1/smil:starsportsselect1drm.smil/manifest.mpd',
        drm: {
            '9872e439f21f4a299cab249c6554daa3': '0cdfcfe0d0f1fbe100554ce3ef4c4665'
        }
    },
    'beinmy1': {
        url: 'https://apac-live.akamaized.net/ehyrzisobs/my_bein_sports_01/index.mpd?hdntl=exp=1758166349~acl=%2f*~id=VID_7O5GpACmoeeLdPzBmxlyZBASPHIE~data=hdntl~hmac=2f6d50e8e8b07c79b459d69a40e55b75823f18c1bd9136b698307eab61281103',
        drm: {
            '6c8f7b516b7bb9f69832a10873f6840f': '633945a03d752513ca87d5264bd7cda5'
        }
    },
    'beinmy2': {
        url: 'https://apac-live.akamaized.net/ehyrzisobs/sea_bein_sports_02/index.mpd?hdntl=exp=1758166349~acl=%2f*~id=VID_7O5GpACmoeeLdPzBmxlyZBASPHIE~data=hdntl~hmac=2f6d50e8e8b07c79b459d69a40e55b75823f18c1bd9136b698307eab61281103',
        drm: {
            '40dbb569b90b5c7798f63ed6d7577ccb': '4ea09395289d3c2e633f24f07c180169'
        }
    },
    'beinmy3': {
        url: 'https://apac-live.akamaized.net/ehyrzisobs/indo_bein_sports_03/index.mpd?hdntl=exp=1758166349~acl=%2f*~id=VID_7O5GpACmoeeLdPzBmxlyZBASPHIE~data=hdntl~hmac=2f6d50e8e8b07c79b459d69a40e55b75823f18c1bd9136b698307eab61281103',
        drm: {
            'd887254c10f866f65427c4f651b71c7c': '231a9d9b02041e9ed576afaffb6b8356'
        }
    },
    'beinmymax': {
        url: 'https://apac-live.akamaized.net/ehyrzisobs/bein_sports_vflow01/index.mpd?hdntl=exp=1758166349~acl=%2f*~id=VID_7O5GpACmoeeLdPzBmxlyZBASPHIE~data=hdntl~hmac=2f6d50e8e8b07c79b459d69a40e55b75823f18c1bd9136b698307eab61281103',
        drm: {
            'bcf11c369f95ebb81da7a311ef619021': 'b17546666fe86fc2647f3a7d50445d12'
        }
    },
    'beinid1': {
        url: 'https://jancok03.elutuna.workers.dev/out/v1/3b0660e05eed4d769521eb0275aab3ab/index.mpd',
        drm: {
            '3ae6a430c1b8420ea280e317143d8d3a': '142473ee925db0db0083c74a178c8298'
        }
    },
    'beinid2': {
        url: 'https://jancok03.elutuna.workers.dev/out/v1/cfca527d0f16403396a71b2d3d54c32f/index.mpd',
        drm: {
            '3d756d566ca94e6499518ffb1474d5d0': 'dbe4ad6803e74739b8f954d23cc58e7b'
        }
    },
    'beinid3': {
        url: 'https://jancok03.elutuna.workers.dev/out/v1/a265695db5cb461095cbfefc02ad793b/index.mpd',
        drm: {
            '344d320ca45641a88cf002db351ed9a4': '246cc6ee7ab235cb824ed3b904b7040b'
        }
    },
    'sportstar1': {
        url: 'https://fta2-cdn-flr.visionplus.id/out/v1/89a6e4261cd7470f83e5869e90440cff/index.mpd',
        drm: {
            '39c4dc6704cf4ceea2fd4863b88d8a7d': '4e9d7954c2ff46759289da4fc9f018ea'
        }
    },
    'sportstar2': {
        url: 'https://fta3-cdn-flr.visionplus.id/out/v1/d2c68a3dfb644808b416bd90dcc92d5f/index.mpd',
        drm: {
            '911e72adf36946afbdbb4f80782a8394': '08aec548a851ba64b7172ae7f05cb91c'
        }
    },
    'soccerchannel': {
        url: 'https://jancok03.elutuna.workers.dev/out/v1/63c0da12bb4d48afbaf053f51dff2353/index.mpd',
        drm: {
            '4035323a7fe64767ab8f3345ed9b93be': '67377b8d429603f8bf30c161bda269e5'
        }
    },
    'spoph1': {
        url: 'https://qp-pldt-live-grp-11-prod.akamaized.net/out/u/dr_spotvhd.mpd',
        drm: {
            'ec7ee27d83764e4b845c48cca31c8eef': '9c0e4191203fccb0fde34ee29999129e'
        }
    },
    'spoph2': {
        url: 'https://qp-pldt-live-grp-13-prod.akamaized.net/out/u/dr_spotv2hd.mpd',
        drm: {
            '7eea72d6075245a99ee3255603d58853': '6848ef60575579bf4d415db1032153ed'
        }
    },
    'tnt1': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/lhr-nitro/live/clients/dash/enc/wf8usag51e/out/v1/bd3b0c314fff4bb1ab4693358f3cd2d3/cenc.mpd',
        drm: {
            'ae26845bd33038a9c0774a0981007294': '63ac662dde310cfb4cc6f9b43b34196d'
        }
    },
    'tnt2': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/lhr-nitro/live/clients/dash/enc/f0qvkrra8j/out/v1/f8fa17f087564f51aa4d5c700be43ec4/cenc.mpd',
        drm: {
            '6d1708b185c6c4d7b37600520c7cc93c': '1aace05f58d8edef9697fd52cb09f441'
        }
    },
    'tnt3': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/lhr-nitro/live/clients/dash/enc/lsdasbvglv/out/v1/bb548a3626cd4708afbb94a58d71dce9/cenc.mpd',
        drm: {
            '4e993aa8c1f295f8b94e8e9e6f6d0bfe': '86a1ed6e96caab8eb1009fe530d2cf4f'
        }
    },
    'tnt4': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/lhr-nitro/live/clients/dash/enc/i2pcjr4pe5/out/v1/912e9db56d75403b8a9ac0a719110f36/cenc.mpd',
        drm: {
            'e31a5a81caff5d07ea2411a571fc2e59': '96c5ef69479732ae734f962748c19729'
        }
    },
    'daznit1': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/dub-nitro/live/clients/dash/enc/lgk8kppclc/out/v1/f51173b6b0624a4386358ab8dfee257f/cenc.mpd',
        drm: {
            '8272bf6ba46f23f9da5270057b6e028a': '74ae70dd10b4bb38ed6ffe843f3e2ccd'
        }
    },
    'ad1': {
        url: 'https://uselector.cdn.intigral-ott.net/ADSP1/ADSP1.isml/manifest.mpd',
        drm: {
            'eb5a3a48f3e191a00e3ac1e2d470c491': '2c8b7198563527e524d66628c092ef1f'
        }
    },
    'ad2': {
        url: 'https://uselector.cdn.intigral-ott.net/ADSP2/ADSP2.isml/manifest.mpd',
        drm: {
            'efca93272b9d34f5cf9d8598f43be5ea': '55e5fe489e9c18f6c979c3126d4bcfed'
        }
    },
    'usaceast': {
        url: 'https://fsly.stream.peacocktv.com/Content/CMAF_OL1-CTR-4s/Live/channel(usa-east)/master.mpd',
        drm: {
            '91bf2d81b9e13701ac667915641121b8': 'd0cc2082132b430ad5a8bc4f31c9b772'
        }
    },
    'usacwest': {
        url: 'https://cfrt.stream.peacocktv.com/Content/CMAF_OL2-CTR-4s/Live/channel(usa-west)/master.mpd',
        drm: {
            '7f1648ec1c8836baa028e319d92e0841': '93ba967ec39964d9a6359044ec5c3500'
        }
    },
    'peacock1': {
        url: 'https://fsly.stream.peacocktv.com/Content/CMAF_CTR-4s/Live/channel(vc1021n07j)/master.mpd',
        drm: {
            '002046c9a49b9ab1cdb6616bec5d26c3': 'd2f92f6b7edc9a1a05d393ba0c20ef9e'
        }
    },
    'tel': {
        url: 'https://fsly.stream.peacocktv.com/Content/CMAF_OL2-CTR-4s-v2/Live/channel(kvea)/master.mpd',
        drm: {
            'ce7ab3022e753307997f58afe001bac4': '72d631a66e635c60829a0fe7705516c1'
        }
    },
    'univ': {
        url: 'https://live-oneapp-prd-news.akamaized.net/Content/CMAF_OL2-CTR-4s/Live/channel(universo-east)/master.mpd',
        drm: {
            'a42669eafed7349499aab7df588b3ccf': '0fbff143ebd097060a377e4ade033288'
        }
    },
    'fubo': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/pdx-nitro/live/clients/dash/enc/3b7qwiqzk3/out/v1/9f14895badca43e6a716db021dcd0c31/cenc.mpd',
        drm: {
            'dc69b6159a0f9f0a4e03b3ff91cbacd5': 'd0dcbcd7723bc40df0bf34c9c092d51f'
        }
    },
    'fubo2': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/pdx-nitro/live/clients/dash/enc/uiffe4jhf0/out/v1/3534efafca8c4815adbb4d2e9a1fe003/cenc.mpd',
        drm: {
            '3dcfbec0e7146928baa55210bf2cb62f': 'bc85f74f815d9be5ae1dd6defaa05135'
        }
    },
    'nbc': {
        url: 'https://fsly.stream.peacocktv.com/Content/CMAF_OL2-CTR-4s/Live/channel(knbc)/master.mpd',
        drm: {
            '0045a118e231f1326bcdb45350b1ceaa': '8c13afbfa54ea37a368b8b859021f6e3'
        }
    },
    'natgeographic': {
        url: 'https://uselector.cdn.intigral-ott.net/NGO/NGO.isml/manifest.mpd',
        drm: {
            '1ba94b93b39ab809b587237d7b60a049': 'e0f94dbfbf9e6e45c9567a7b50eb612c'
        }
    },
    'natgeowild': {
        url: 'https://uselector.cdn.intigral-ott.net/NHD/NHD.isml/manifest.mpd',
        drm: {
            '276e56bc14095f327bbf0c936eb7b38c': '63127eaddb18c596db05657424849519'
        }
    },
    'animalplanet': {
        url: 'https://uselector.cdn.intigral-ott.net/APL/APL.isml/manifest.mpd',
        drm: {
            '807d6b44b0ab6496877be8513313e3ce': 'a57d64d5e08284e52555f57b8e68b21c'
        }
    },
    'sgaff': {
        url: 'https://tglmp02.akamaized.net/out/v1/8c503a6966554d439035588f10505eee/manifest.mpd',
        drm: {
            '1b8ee3db17d34547983a2c3ddc3d28fc': 'fb5deb5f688fd67ec20c71191c7f4590'
        }
    },
    'sgm': {
        url: 'https://tglmp04.akamaized.net/out/v1/5793335474d74566a8a0adfa260f22a9/manifest.mpd',
        drm: {
            '5332345367554fd39588283a2b949d02': '8abcd0b3126923b068c26508e24c9f69'
        }
    },
    'sgch5': {
        url: 'https://tglmp04.akamaized.net/out/v1/400fc0702dee453bb33ebcc29466e58a/manifest.mpd',
        drm: {
            '91b9592c819246c68b3b08a1fe08ba22': 'fa0d80dfd865b34077bae44cd4a0c5e6'
        }
    },
    'sgch6': {
        url: 'https://tglmp02.akamaized.net/out/v1/cc0fc82e76cb4e0093e81695284af443/manifest.mpd',
        drm: {
            'd418f733ed224f9bb9c2b1589db22a20': '6ed6fe26daa4b926810869ff60254ebb'
        }
    },
    'sgchlive': {
        url: 'https://tglmp02.akamaized.net/out/v1/cc0fc82e76cb4e0093e81695284af443/manifest.mpd',
        drm: {
            'd418f733ed224f9bb9c2b1589db22a20': '6ed6fe26daa4b926810869ff60254ebb'
        }
    },
    'espnnl1': {
        url: 'https://wp1-anp-g05060506-ufa-nl.t1.prd.dyncdn.dmdsdp.com/live/disk1/NL_000107_019441/go-dash-fhd-avc/NL_000107_019441.mpd?p=starballtv',
        drm: {
            '3e999e38253834baa63881ea451f2839': '99b88d9cde1d8986decbc5985da87187'
        }
    },
    'tntmx': {
        url: 'https://live2-ott.izzigo.tv/2/out/u/dash/TNT-HD/default.mpd',
        drm: {
            'dca8597f12f8d6928b55c1291c7bb300': '36c8b3f51d474b95f0adad70899343e1'
        }
    },
    'foxmx1': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/iad-nitro/live/clients/dash/enc/oboxe53wyo/out/v1/f7892a9d706d419a846d738fa22ea33e/cenc.mpd',
        drm: {
            '2fbdaa3bea0d0323ae011b318d1db716': '8726ef7eaf5b9dce15fb6aa9f80bd53f'
        }
    },
    'foxmx1': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/iad-nitro/live/clients/dash/enc/oboxe53wyo/out/v1/f7892a9d706d419a846d738fa22ea33e/cenc.mpd',
        drm: {
            '2fbdaa3bea0d0323ae011b318d1db716': '8726ef7eaf5b9dce15fb6aa9f80bd53f'
        }
    },
    'foxmx2': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/iad-nitro/live/clients/dash/enc/tepjqej1ys/out/v1/c9c9159baee749a19612b1598495859a/cenc.mpd',
        drm: {
            '8836fb04d62dc64c9f8a39ef8640d5eb': 'd4f05ce56c5231b7cdf53455bea58621'
        }
    },
    'foxmx3': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/iad-nitro/live/clients/dash/enc/wybgz0orr8/out/v1/2f6d1612abd44f5883917f8a585b955f/cenc.mpd',
        drm: {
            '11c8c1c2ef0385cf1e64d44bb9c3a395': '5769730ffbdc4b2fd8945929d9ace063'
        }
    },
    'foxmxprem': {
        url: 'https://aka-live1-ott.izzigo.tv/1/out/u/dash/FOX-SPORTS-PREMIUM-HD/default.mpd',
        drm: {
            '0fefd5d94a8cb5b40c057ab182f7dc27': '5548c4823ff7f1ea61bafb7cbc19e005'
        }
    },
    'foxusadep': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/lhr-nitro/live/clients/dash/enc/vkpoljjpkj/out/v1/502bcf68b3514cd28a220e6f0a43816f/cenc.mpd',
        drm: {
            'd1a163914db8ffad2c3e94f979896a0d': '9728800a3959aafdd5b0bcfbf3768811'
        }
    },
    'foxusa1': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/iad-nitro/live/clients/dash/enc/tmpzbbdj9y/out/v1/962736723a534ba294e7592fef49827b/cenc.mpd',
        drm: {
            '5466ebd70704bdeb657f0abf3c5ca4ef': 'bdd79b72d8e48ed483aa623cc38a8a16'
        }
    },
    'foxusa2': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/iad-nitro/live/clients/dash/enc/awxnrqkbo5/out/v1/716529a4091947b0877e6cb80dbd6ccb/cenc.mpd',
        drm: {
            '09453ce820d65fbc675de3185f9e454c': '98cff9600995fa381c76fdacf3c7edae'
        }
    },
    'cbsgol': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/PDX/live/clients/dash/enc/5qz8wmdome/out/v1/b9323e853dce427eac214b77bd48a204/cenc.mpd',
        drm: {
            'd9623774ac5c8c351aafe97c5fe70267': '5164e6d05164a2d65fa8fcc962aa4861'
        }
    },
    'fancode1': {
        url: 'https://a204aivottepl-a.akamaihd.net/sin-nitro/live/clients/dash/enc/fdb3pubmek/out/v1/aefca6420f944a9482e117f315de535f/cenc.mpd',
        drm: {
            '7e9239c1982d984a002df3ed049d0756': '1b8a17598129a3618535c8fb05f103fe'
        }
    },
    'tsnca1': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/pdx-nitro/live/clients/dash/enc/u142pfptsm/out/v1/1caa3b2dfa9e448d8f61209bdfc1acdc/cenc.mpd',
        drm: {
            '7e99f734748d098cbfa2f7bde968dd44': '98ea6088c3222e9abaf61e537804d6cc'
        }
    },
    'tsnca2': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/pdx-nitro/live/clients/dash/enc/v5v9yfn62i/out/v1/0991e33d09da46b2857fcc845db95c40/cenc.mpd',
        drm: {
            '362202eefc5d9e42eec6450998cce9e8': '978dfdd53186ec587d940e0bd1e2ec42'
        }
    },
    'tsnca3': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/pdx-nitro/live/clients/dash/enc/mrskysvotx/out/v1/ad58961bd8fd48d2944e461c034b8914/cenc.mpd',
        drm: {
            'd9097a1b7d04b7786b29f2b0e155316d': '279695ebe0fb1bc5787422b6b59ce8a8'
        }
    },
    'tsnca4': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/pdx-nitro/live/clients/dash/enc/irtfdsri14/out/v1/165128c314e944faa3d79e107974b323/cenc.mpd',
        drm: {
            'e1aa4c4daf6222a04f7ae80130495ea1': '31bb1ee9a8d088f62b0103550c301449'
        }
    },
    'tsnca5': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/dub-nitro/live/clients/dash/enc/mttgh1c4ei/out/v1/9cc664b146744e2ba23066aa048efbc5/cenc.mpd',
        drm: {
            '8ce20e2a4b3dd04e0a6e5469b7cb47be': '163c323b65d0597b13f037641fd67b1e'
        }
    },
    'espnmx1': {
        url: 'https://live-atv-cdn.izzigo.tv/1/out/u/dash/ESPN-HD/default.mpd',
        drm: {
            'bb43112b7b72e9c287da0ecdec8606a7': '29e3d2678107f0ab0b35b6537c734f2a'
        }
    },
    'espnmx2': {
        url: 'https://live-atv-cdn.izzigo.tv/1/out/u/dash/ESPN-2-HD/default.mpd',
        drm: {
            '90e2e491c850a49a5ab21bb6fa6b4d24': '4d7e33da19b971cef49e35eccdb9de0b'
        }
    },
    'espnarg1': {
        url: 'https://csc-axs-edge01.sensa.com.ar/live/eds/ESPN/live_dash_cld/ESPN.mpd',
        drm: {
            '6d243ebd7a57bea4b4b052ae13f4c051': '5c1925879de873d43b7c25925902539b'
        }
    },
    'espnarg2': {
        url: 'https://csc-axs-edge01.sensa.com.ar/live/eds/ESPN2/live_dash_cld/ESPN2.mpd',
        drm: {
            '6a8bd6496d2444301c9d4d0feca9d75b': '3fd1967701ba2897729187b60094c158'
        }
    },
    'espnarg3': {
        url: 'https://csc-axs-edge01.sensa.com.ar/live/eds/ESPN3/live_dash_cld/ESPN3.mpd',
        drm: {
            '8836252059b793a79173838dc1186ff1': 'aa16f90e51ce5652dab93834e434caa8'
        }
    },
    'espnarg4': {
        url: 'https://csc-axs-edge01.sensa.com.ar/live/eds/ESPN4/live_dash_cld/ESPN4.mpd',
        drm: {
            '034653d3413f23e87249d1fb7e68359a': 'a0d6b849f17c430e9cc02d07739a4e4a'
        }
    },
    'laligatv': {
        url: 'https://a166aivottlinear-a.akamaihd.net/OTTB/dub-nitro/live/clients/dash/enc/k0duzgfejg/out/v1/70a50b1bda944628b8e7e66ab4069419/cenc.mpd',
        drm: {
            '620e51b82596475517a27aa425c52280': '2b9ba811e9c5aeafc8ae1b71cdca4d6a'
        }
    },
    'azteca7': {
        url: 'https://live4-ott.izzigo.tv/4/out/u/dash/AZTECA-7-HD/default.mpd',
        drm: {
            'c15a10921bed75a3ec5385e0ecdb6499': '4e44df62547a1544a4623418918658d0'
        }
    },
    'skymx16': {
        url: 'https://live-atv-cdn.izzigo.tv/2/out/u/dash/SKYSPORTS-16-HD/manifest.mpd',
        drm: {
            'c88dc6c668cac3b468d4a4c7e176ff3d': '1aeb739de2c14ed0ad658ca8043208d8'
        }
    },
    'skymx24': {
        url: 'https://live-atv-cdn.izzigo.tv/5/out/u/dash/SKYSPORTS24HD/default.mpd',
        drm: {
            'd8d5823d92a9ef9306a4cc4bd634b4b4': 'df9fbdaa0ef9e905b75f4692f213af19'
        }
    },
    'skymx1': {
        url: 'https://live-atv-cdn.izzigo.tv/3/out/u/dash/SKYSPORTSHD/default.mpd',
        drm: {
            '335511dfdf0d03bc06f1fdead5870b5a': '1a022fb33ad3de4d4579b04966551488'
        }
    },
    'skymx2': {
        url: 'https://live-atv-cdn.izzigo.tv/3/out/u/dash/SKYSPORTS21HD/default.mpd',
        drm: {
            '99909032389c6ee41c3d2f3ec829f804': '41fbc575c8ef1cdac1dca990c9a0df9d'
        }
    },
    'skymxev1': {
        url: 'https://live-atv-cdn.izzigo.tv/1/out/u/dash/SKYLIVEEVENT1HD/default.mpd',
        drm: {
            'a3636a51227fa338cdddf5892d8a621c': '1444ee3c4d08bf39454b914f797968eb'
        }
    },
    'skymxev2': {
        url: 'https://live-atv-cdn.izzigo.tv/5/out/u/dash/SKYLIVEEVENT2HD/default.mpd',
        drm: {
            '7239a58fb7388b222a834d549bf18d8f': '8b04a883e88dbdebc43673d998ea1cb2'
        }
    },
    'skymxev3': {
        url: 'https://live-atv-cdn.izzigo.tv/1/out/u/dash/SKYLIVEEVENT3HD/default.mpd',
        drm: {
            '561a21ad50f806b77d328dedbe59f93e': 'edf3e70cc9de81a73e2a00fe9c0611a8'
        }
    },
    'skymxev4': {
        url: 'https://live-atv-cdn.izzigo.tv/1/out/u/dash/SKYLIVEEVENT4HD/default.mpd',
        drm: {
            'a931b2e953695ffb0cfd38573e97ba33': '4ddd99cc4fb168d7f0e20be8a3287100'
        }
    },
    'skymxev5': {
        url: 'https://live-atv-cdn.izzigo.tv/2/out/u/dash/SKYLIVEEVENT5HD/default.mpd',
        drm: {
            '6c89e84c52eae0428b7d2c8e887a48ec': '758a1484f920a0f1aa73e95d5f2be225'
        }
    },
    'skymxev6': {
        url: 'https://live-atv-cdn.izzigo.tv/1/out/u/dash/SKYLIVEEVENT6HD/default.mpd',
        drm: {
            '6c89e84c52eae0428b7d2c8e887a48ec': '758a1484f920a0f1aa73e95d5f2be225'
        }
    },
    'skymxev7': {
        url: 'https://live-atv-cdn.izzigo.tv/5/out/u/dash/SKYLIVEEVENT7HD/default.mpd',
        drm: {
            '6c89e84c52eae0428b7d2c8e887a48ec': '758a1484f920a0f1aa73e95d5f2be225'
        }
    },
    'skymxev8': {
        url: 'https://live-atv-cdn.izzigo.tv/3/out/u/dash/SKYLIVEEVENT8HD/default.mpd',
        drm: {
            '6c89e84c52eae0428b7d2c8e887a48ec': '758a1484f920a0f1aa73e95d5f2be225'
        }
    },
    'ziggo1': {
        url: 'https://mag03.tvx.prd.tv.odido.nl/wh7f454c46tw75168188_-627298088/PLTV/86/224/3221241590/3221241590.mpd?zoneoffset=0&devkbps=1-7000&servicetype=1&icpid=86&accounttype=1&limitflux=-1&limitdur=-1&tenantId=3103&accountinfo=%7E%7EV2.0%7EqbcsJh_jU5C9BcZc959e_wae44b4867b3417aa76b5db2da20fe46c%7EKZzTWjB8qD1zdgbJjRPVLJX-tV0qiN9RBHC_iseGrsmTSRjj06oGDtGlpSCRGOwF3626cf085c08d024c7e4aafc18c32440%7EExtInfo5Ro3VppWiUusj2ippqUPkQ%3D%3D4a2d2c8ce133f43026d0e31b822b8474%3A20240601012829%3AUTC%2C10001003329222%2C87.212.140.171%2C20240601012829%2C3103_SP1S%2C10001003329222%2C-1%2C0%2C1%2C%2C%2C2%2C3103_Sport1%2C%2C%2C2%2C10000044444303%2C0%2C10000025050255%2CNDEzODg2NTY3MzEwMzI2NzMwNjMwNTY%3D%2C%2C%2C5%2C1%2CEND&GuardEncType=2&RTS=1717205309&from=11&hms_devid=1008&online=1717205309&mag_hms=1008,311,305&_=1717205322621',
        drm: {
            'ef34ae91b4f2415e8439b2ad105e7488': '243248d8de1ff8c7c587ee2057317523'
        }
    },
    'ziggo2': {
        url: 'https://mag03.tvx.prd.tv.odido.nl/wh7f454c46tw266117884_-1972819316/PLTV/86/224/3221241560/3221241560.mpd?accountinfo=~~V2.0~OhA1DF4svOZppKxb-t-Ngw144cce44121c63284a33d5453493e5c8~1_Fmlu5PevHMYnEi9Z_HX2goKAd0VHSuxZMoIcAXcawYvG1meqGp2eQ2Ibhjvh7e59e7f6df3d57f23a32024ad67f0f19dc:UTC,',
        drm: {
            '3cfa8625f650406ebf6a4d1ea737f572': '0534e747c70b364aa7210e1bf3191df0'
        }
    },
    'ziggo3': {
        url: 'https://mag02.tvx.prd.tv.odido.nl/wh7f454c46tw407556707_-381738111/PLTV/86/224/3221241511/3221241511.mpd?accountinfo=~~V2.0~yVi0dMX4icO5Ka9e92EQfg8812e1c1044f7d357066472e3ee99ef4~2dRB9E-vDtoAbYl169LbcJpxUgWVJtbeU_PlhGfNUflphvljOb5VaEhxruETYG9qcccaf5c5b655bf7504ed7ec5a1dd798f:UTC,',
        drm: {
            '4dbea4b5713a4aa1ae3a2544cd522fc7': 'a8323ea99b2d6200a48e1bc27322d548'
        }
    },
    'ziggo4': {
        url: 'https://da-d436234920010b8800010302000000000000000b.id.cdn.upcbroadband.com/wp/wp4-anp-g05060506-hzn-nl.t1.prd.dyncdn.dmdsdp.com/live/disk1/NL_000097_019370/go-dash-fhd-avc/NL_000097_019370.mpd?p=web',
        drm: {
            '16bf72dc22743d929c4318e193408373': 'eae51a1e3904124963074cbf432c7c8e'
        }
    },
    'ziggo5': {
        url: 'https://mag04.tvx.prd.tv.odido.nl/wh7f454c46tw865586829_-819821292/PLTV/86/224/3221241610/3221241610.mpd?accountinfo=~~V2.0~LNS2PBO5tyhp5z1Pe6ObBA6cd7a4ec35c4492167b9376e6dff2932~BZw2dESHw-I1PQCFh9gGxCMvrIIzgMdYAe900qj8l6aoXUX9ahyR6I9EUIu7nDR4f4887615c83ea7a8cee6dd33137c4ebe:UTC,',
        drm: {
            '3fb40d85724942f994d86943f48021db': 'a6da8742502c8a2153067f5f2a70fb02'
        }
    },
    'ziggo6': {
        url: 'https://mag03.tvx.prd.tv.odido.nl/wh7f454c46tw1024019879_757686866/PLTV/86/224/3221241521/3221241521.mpd?accountinfo=~~V2.0~URnD_afuosWHfY5OEqRXOwfa01c8ac56cf4511de39c2c4a3cab278~iVxKjbtf2gx_dYFqI-vt5C4Cu3COYDjZaw6C_kO2T2wm30fwo1ctD1gr_e2PrgTh48867c3177f3c34842031623cb2e06c9:UTC,',
        drm: {
            '1a0ffa532aa2498490826e2f6a37f7c9': 'a8cec27bc7d47909c5b0d8f473b43e8d'
        }
    },
    'tf1': {
        url: 'https://cachehsi1b.netplus.ch/live/eds/tf1hd/browser-dash/tf1hd.mpd',
        drm: {
            '': ''
        }
    },
    'setantalt1': {
        url: 'https://tr.live.cdn.cgates.lt/live/dash/561002/index.mpd',
        drm: {
            '8ab2332442854e62b0018eec3ee58484': '37fdee8b6eef5c96001e8c6fc47bfc08'
        }
    },
    'nova1sk': {
        url: 'https://dash2.antik.sk/stream/nvidia_nova_sport1/playlist_cenc.mpd',
        drm: {
            '11223344556677889900112233445566': '4b80724d0ef86bcb2c21f7999d67739d'
        }
    },
    'nova2sk': {
        url: 'https://dash2.antik.sk/stream/nvidia_nova_sport2/playlist_cenc.mpd',
        drm: {
            '11223344556677889900112233445566': '4b80724d0ef86bcb2c21f7999d67739d'
        }
    },
    'sport1slv': {
        url: 'https://dash2.antik.sk/stream/nvidia_sport_1/playlist_cenc.mpd',
        drm: {
            '11223344556677889900112233445566': '4b80724d0ef86bcb2c21f7999d67739d'
        }
    },
    'sport2slv': {
        url: 'https://dash2.antik.sk/stream/nvidia_sport2/playlist_cenc.mpd',
        drm: {
            '11223344556677889900112233445566': '4b80724d0ef86bcb2c21f7999d67739d'
        }
    },
    'mediaset5': {
        url: 'https://live03p-seg.msf.cdn.mediaset.net/live/ch-c5/c5-dash-widevine.isml/manifest.mpd',
        drm: {
            '00f9f3c0783536b8ce4a30a01a52e082': 'e926f7d45af4f7d154c990eae6a2d937'
        }
    },
    'italia1': {
        url: 'https://live03p-seg.msf.cdn.mediaset.net/live/ch-i1/i1-dash-widevine.isml/manifest.mpd',
        drm: {
            '00f9f3c0783536b8ee91704e23b78016': 'bfd04d6f544c9cc4d35cb13ab6778587'
        }
    },
    'sat1': {
        url: 'https://p7s1-live-009-prod.akamaized.net/27a90190/t_009/sat1-de-hd/cenc-default.mpd',
        drm: {
            '540313f2e5eda2c17df277afc085f33c': '3a2ac903e4299a7815111e256369d9d4'
        }
    },
    'sportv': {
        url: 'https://a123aivottepl-a.akamaihd.net/gru-nitro/live/clients/dash/enc/m7duvnk2bu/out/v1/d1ad69118b5647309b1eb7213affdb3d/cenc.mpd',
        drm: {
            '4bbcff3289d457b4dd5dbdd21221de9a': 'c4906b9a9f8dda3c0725bddb8c497733'
        }
    },
    'sportvsd': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/gru-nitro/live/clients/dash-sd/enc/rkhugudynd/out/v1/f7763e695c3b469594ed89fa163ebf0c/cenc-sd.mpd',
        drm: {
            'eaea45512d137def15b209a089cafd14': '8d42db746ed0c4df61729b0d68d42bd7'
        }
    },
    'sportvsd2': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/gru-nitro/live/clients/dash-sd/enc/4yiko4it8k/out/v1/b77dd424c745443aba2f3f88d418f797/cenc-sd.mpd',
        drm: {
            '9009b7189e3e68cc09d17811f2beb55a': 'dd3f96a94c909da48ff40c92aabf8cf3'
        }
    },
    'sportv3': {
        url: 'https://otte.live.fly.ww.aiv-cdn.net/gru-nitro/live/clients/dash/enc/6otiglnptp/out/v1/add7499679b0422cb6791f7701f95ecc/cenc.mpd?amznDtid=AOAGZA014O5RE&encoding=segmentBase',
        drm: {
            '902e5ec0e3d05e665daa32fc23f4f59e': '7b2322a273843921a43e2c61dac7cae3'
        }
    },
    'cazetv': {
        url: 'https://a56aivottepl-a.akamaihd.net/gru-nitro/live/clients/dash/enc/3ynrpdanq2/out/v1/81fd4c26584044d2b1a1cc5b32fa9af0/cenc.mpd?amznDtid=AOAGZA014O5RE&encoding=segmentBase',
        drm: {
            '34475edab991ad5e92548aebd710410a': '501b209cccd323ac00bf5ac15b406cb4'
        }
    },
    'mbcmars2': {
        url: 'https://uselector.cdn.intigral-ott.net/MBMS2/MBMS2.isml/manifest.mpd',
        drm: {
            '4da4fec209622c5da04762e8d2d2f1d7': '4495168cf1a99038546b9d042dbe7c97'
        }
    },
    'unifi': {
        url: 'https://unifi-live07.secureswiftcontent.com/UnifiHD/live11.mpd',
        drm: {
            'cbb673fb120882354735ed57eeb05b4c': 'fe003f7aeec40eb65d20b14edfda2a86'
        }
    },
    'ssc1': {
        url: 'https://ssc-1-enc.edgenextcdn.net/out/v1/c696e4819b55414388a1a487e8a45ca1/index.mpd',
        drm: {
            'd84c325f36814f39bbe59080272b10c3': '550727de4c96ef1ecff874905493580f'
        }
    },
    'ssc2': {
        url: 'https://ssc-2-enc.edgenextcdn.net/out/v1/a16db2ec338a445a82d9c541cc9293f9/index.mpd',
        drm: {
            '8bcfc55359e24bd7ad1c5560a96ddd3c': 'b5dcf721ab522af92a9d3bf0bd55b596'
        }
    },
    'ssc3': {
        url: 'https://ssc-3-enc.edgenextcdn.net/out/v1/42e86125555242aaa2a12056832e7814/index.mpd',
        drm: {
            '7de5dd08ad8041d586c2f16ccc9490a1': '5e1503f3398b34f5099933fedab847ef'
        }
    },
    'ssc4': {
        url: 'https://ssc-4-enc.edgenextcdn.net/out/v1/5267ea5772874b0db24559d643eaad93/index.mpd',
        drm: {
            '5c672f6b85a94638872d0214f7806ed4': 'bf8756fbb866ee2d5c701c2289dd8de3'
        }
    },
    'ssc5': {
        url: 'https://ssc-5-enc.edgenextcdn.net/out/v1/99289eac5a7b4319905da595afbd792b/index.mpd',
        drm: {
            'c88b512b17ab4f6cb09eb0ff4a1056ed': 'adc08ee1c20a734972a55c9aebbd1888'
        }
    },
    'sscex1': {
        url: 'https://ssc-extra-1-enc.edgenextcdn.net/out/v1/647c58693f1d46af92bd7e69f17912cb/index.mpd',
        drm: {
            'ecbc9e6fe6b145efb6658fb5cf7427f8': '03c17e28911f71221acbc0b11f900401'
        }
    },
    'sscex2': {
        url: 'https://ssc-extra-2-enc.edgenextcdn.net/out/v1/8b70de2b70d447ba8a7450ba90926a2d/index.mpd',
        drm: {
            '4d89249bd4ca4ebc9e70443265f9507d': 'cf074ffd2646c9c2f8513b47fa57bc30'
        }
    },
    'sscex3': {
        url: 'https://ssc-extra3-enc.edgenextcdn.net/out/v1/8f1c6c3f05ef4284a64b342891bd85ae/index.mpd',
        drm: {
            '98cfd6fd4812497fb24dc75f7545f2ee': 'd3006ee69e77b25939728ebf30d3180a'
        }
    }
};
// simpan URL aktif agar tombol refresh tahu apa yang harus di-reload
let currentChannelUrl = null;
/* ======================
   PREFETCH MPD
====================== */
async function prefetchManifest(url) {
    try {
        await fetch(url, {
            cache: 'force-cache'
        });
    } catch (e) {
        console.warn('Prefetch failed:', e);
    }
}
/* ======================
   EARLY PREFETCH
====================== */
(function __earlyPrefetch() {
    try {
        const qs = new URLSearchParams(location.search);
        const key = qs.get('channel');
        if (key && typeof channels === 'object' && channels[key]?.url) {
            currentChannelUrl = channels[key].url;
            prefetchManifest(currentChannelUrl);
        }
    } catch (_) {
        /* ignore */
    }
})();
/* ======================
   DAFTARKAN TOMBOL REFRESH (sekali saja)
====================== */
if (!window.__refreshRegistered) {
    class RefreshButton extends shaka.ui.Element {
        constructor(parent, controls) {
            super(parent, controls);
            this.player_ = controls.getPlayer();
            this.btn_ = document.createElement('button');
            this.btn_.classList.add('shaka-button', 'shaka-refresh-button');
            this.btn_.setAttribute('aria-label', 'Refresh Stream');
            this.btn_.setAttribute('title', 'Refresh Stream');
            this.btn_.innerHTML = '<span class="material-icons-sharp" aria-hidden="true">refresh</span>';
            parent.appendChild(this.btn_);
            this.eventManager.listen(this.btn_, 'click', async () => {
                if (!currentChannelUrl) return;
                try {
                    this.btn_.disabled = true;
                    // âš¡ lebih cepat: langsung load tanpa unload
                    await this.player_.load(currentChannelUrl);
                } catch (e) {
                    console.error('Refresh failed:', e);
                } finally {
                    this.btn_.disabled = false;
                }
            });
        }
        release() {
            if (this.btn_) {
                this.btn_.remove();
                this.btn_ = null;
            }
            super.release();
        }
    }
    RefreshButton.Factory = class {
        create(root, controls) {
            return new RefreshButton(root, controls);
        }
    };
    shaka.ui.Controls.registerElement('refresh', new RefreshButton.Factory());
    window.__refreshRegistered = true;
}
/* ======================
   INIT SHAKA (MPD + CLEARKEY) + TEMA & GEAR
====================== */
let __initCalled = false;
async function init() {
    if (__initCalled) return;
    __initCalled = true;
    const video = document.getElementById('video');
    const ui = video['ui'];
    const controls = ui.getControls();
    const player = controls.getPlayer();
    window.player = player;
    window.ui = ui;
    player.addEventListener('error', onPlayerErrorEvent);
    controls.addEventListener('error', onUIErrorEvent);
    const urlParams = new URLSearchParams(window.location.search);
    const key = urlParams.get('channel');
    if (channels[key]) {
        const channel = channels[key];
        currentChannelUrl = channel.url;
    
        // 1) DRM ClearKeys
        player.configure({
            drm: { clearKeys: channel.drm }
        });
    
        // 2) Streaming & ABR config cepat
        player.configure({
            streaming: {
                lowLatencyMode: true,   // ðŸš€ langsung render frame pertama
                rebufferingGoal: 1.5,
                bufferingGoal: 3.5,
                jumpLargeGaps: true,
                smallGapLimit: 0.5,
                stallEnabled: true,
                stallThreshold: 0.25,
                retryParameters: {
                    timeout: 4000,
                    maxAttempts: 2,
                    baseDelay: 250
                }
            },
            abr: {
                defaultBandwidthEstimate: 5_000_000,
                switchInterval: 2
            },
            manifest: {
                dash: {
                    ignoreMinBufferTime: true,
                    autoCorrectDrift: true
                }
            }
        });
    
        // 3) Load stream
        try {
            prefetchManifest(channel.url);
            await player.load(channel.url);
            if (window.__customLoader) window.__customLoader.style.display = 'none';
            mountBigUnmute();
        } catch (error) {
            onPlayerError(error);
        }
    } else {
        console.error('Channel not found');
    }
    controls.addEventListener('fullscreen', () => {
        if (document.fullscreenElement) lockOrientationToLandscape();
    });
    ui.configure({
        controlPanelElements: [
            'play_pause',
            'spacer',
            'mute',
            'refresh',
            'fullscreen',
            'overflow_menu'
        ],
        seekBarColors: {
            base: 'rgba(255, 0, 0, 0.3)',
            buffered: 'rgba(255, 0, 0, 0.5)',
            played: 'red',
            adBreaks: 'yellow',
        }
    });
    const menuButton = document.querySelector('.shaka-overflow-menu-button');
    if (menuButton) {
        if (document.querySelector('link[href*="font-awesome"]') || document.querySelector('i.fas')) {
            menuButton.innerHTML = '<i class="fas fa-cog"></i>';
        } else {
            menuButton.innerHTML = '<span class="material-icons-sharp">settings</span>';
        }
    }
}
/* ======================
   ERROR & UTIL
====================== */
function onPlayerErrorEvent(errorEvent) {
    onPlayerError(errorEvent.detail);
}

function onPlayerError(error) {
    console.error('Error code', error.code, 'object', error);
}

function onUIErrorEvent(errorEvent) {
    onPlayerError(errorEvent.detail);
}

function initFailed() {
    console.error('Unable to load the UI library!');
}

function lockOrientationToLandscape() {
    if (screen.orientation && screen.orientation.lock) {
        screen.orientation.lock('landscape').catch((error) => {
            console.warn('Orientation lock failed:', error);
        });
    }
}
/* ======================
   SHARE EMBED
====================== */
function getSelfEmbedUrl() {
    const url = new URL(location.origin + location.pathname);
    const qs = new URLSearchParams(location.search);
    if (qs.has('channel')) {
        url.searchParams.set('channel', qs.get('channel'));
    }
    return url.toString();
}

function buildEmbedCode(srcUrl) {
    return `<iframe src="${srcUrl}" width="100%" height="100%" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen loading="lazy"></iframe>`;
}
async function copyText(text) {
    try {
        await navigator.clipboard.writeText(text);
        return true;
    } catch {
        const ta = document.createElement('textarea');
        ta.value = text;
        ta.style.position = 'fixed';
        ta.style.opacity = '0';
        document.body.appendChild(ta);
        ta.select();
        document.execCommand('copy');
        ta.remove();
        return true;
    }
}

function showToast(msg) {
    const el = document.getElementById('copyToast');
    if (!el) return;
    el.textContent = msg;
    el.style.display = 'block';
    clearTimeout(showToast._t);
    showToast._t = setTimeout(() => {
        el.style.display = 'none';
    }, 1500);
}
document.getElementById('pageShareBtn')?.addEventListener('click', async () => {
    const embed = buildEmbedCode(getSelfEmbedUrl());
    const ok = await copyText(embed);
    if (ok) showToast('Embed code copied');
});

function toggleShareBtnForFullscreen() {
    const btn = document.getElementById('pageShareBtn');
    if (!btn) return;
    btn.style.display = document.fullscreenElement ? 'none' : 'inline-flex';
}
document.addEventListener('fullscreenchange', toggleShareBtnForFullscreen);
/* ======================
   BIG UNMUTE BUTTON
====================== */
function mountBigUnmute() {
    const container =
        document.querySelector('.shaka-container.youtube-theme') ||
        document.querySelector('.shaka-video-container.youtube-theme');
    const playerVideo = document.querySelector('video[data-shaka-player]');
    if (!container || !playerVideo) return;
    if (container.querySelector('.player-unmute')) {
        updateBigUnmute();
        return;
    }
    const btn = document.createElement('button');
    btn.className = 'player-unmute';
    btn.innerHTML = `<span class="mi" aria-hidden="true">volume_off</span><span>Unmute</span>`;
    container.appendChild(btn);
    btn.addEventListener('click', async () => {
        try {
            playerVideo.muted = false;
            if (window.player && typeof window.player.setVolume === 'function') {
                const vol = window.player.getVolume?.() ?? 0.8;
                window.player.setVolume(Math.max(vol, 0.5));
            } else {
                if (playerVideo.volume === 0) playerVideo.volume = 0.8;
            }
            await playerVideo.play().catch(() => {});
        } finally {
            updateBigUnmute();
        }
    });
    playerVideo.addEventListener('volumechange', updateBigUnmute);
    updateBigUnmute();

    function updateBigUnmute() {
        if (playerVideo.muted || playerVideo.volume === 0) {
            btn.style.display = 'inline-flex';
            btn.querySelector('.mi').textContent = 'volume_off';
            btn.lastElementChild.textContent = 'Unmute';
        } else {
            btn.style.display = 'none';
        }
    }
}
/* ======================
   HOOK SHAKA UI
====================== */
function __callInitOnce() {
    init();
}
document.addEventListener('shaka-ui-loaded', __callInitOnce);
document.addEventListener('shaka-ui-load-failed', initFailed);
document.addEventListener('DOMContentLoaded', () => {
    const v = document.getElementById('video');
    if (v && v['ui']) __callInitOnce();
});
// optional: disable devtools bila kamu pakai lib itu
window.addEventListener('load', () => {
    if (typeof disableDevtool === 'function') disableDevtool();
});
</script>

  
</body>
</html>
